import{y as H,z as L,Q as b,B as u,S as F,D as _,H as m,v as a,F as n,J as v,T as o,I as M,X as R,Z as N,_ as $,Y as q,P as w,$ as z,a0 as G}from"./index-7162acbb.js";import"./mitt-43e253ae.js";import{_ as J}from"./InfoAll-12ec0fca.js";import{S as O}from"./swiper-bundle-f8b0b54a.js";import{_ as Q}from"./_plugin-vue_export-helper-c27b6911.js";import{V as U}from"./VContainer-a47efa6f.js";import{V as W}from"./VRow-69a15c63.js";import{V as g}from"./VCol-c17ef395.js";const h=l=>(z("data-v-9a1a9353"),l=l(),G(),l),X={class:"swiper mySwiper swiper2"},Y={class:"swiper-wrapper"},Z={class:"me-2"},j=h(()=>o("span",null,"開始",-1)),K=h(()=>o("div",{class:"swiper-pagination"},null,-1)),ee={__name:"EventHome",setup(l){const{apiAuth:I}=R();H(),L(),b();const y=p=>{const s=p.split(" "),e=s[0].split("/"),t=s[1].split(" "),c=s[2].split(" "),E=e[0],V=e[1].padStart(2,"0")+"."+e[2].padStart(2,"0"),x=t[0].slice(0,2)+":"+t[0].slice(2),D=c[0].slice(0,2)+":"+c[0].slice(2),A=d=>d.replace(/\//g,"-"),k=d=>{const P=new Date(d);return["日","一","二","三","四","五","六"][P.getDay()]},B=A(s[0]),C=k(B);return{year:E,monthDay:V,week:C,startTime:x,endTime:D}},r=u(!1),f=u(""),S=()=>{r.value=!1},i=u([]),T=async p=>{var s,e;try{const{data:t}=await I.get("/events/getEventAll");i.value=t.result}catch(t){console.log(t);const c=((e=(s=t==null?void 0:t.response)==null?void 0:s.data)==null?void 0:e.message)||"發生錯誤，請稍後再試";f.value=c,r.value=!0}};return F(async()=>{await T(),console.log("eventAll",i.value),new O(".mySwiper",{slidesPerView:2,spaceBetween:30,freeMode:!0,pagination:{el:".swiper-pagination",clickable:!0}})}),(p,s)=>(_(),m(v,null,[a(U,null,{default:n(()=>[o("div",null,[o("div",X,[o("div",Y,[(_(!0),m(v,null,M(i.value,(e,t)=>(_(),m("div",{key:t,class:"swiper-slide swiper-slide2"},[a(N,{width:"100%",class:"rounded-lg mt-1"},{default:n(()=>[a($,{style:{padding:"0"}},{default:n(()=>[a(W,{style:{margin:"0",padding:"0"}},{default:n(()=>[a(g,{cols:"12",style:{margin:"0",padding:"0","background-color":"antiquewhite",height:"110px",width:"100%"}},{default:n(()=>[a(q,{src:e.IMAGE,cover:""},null,8,["src"])]),_:2},1024),a(g,{cols:"11"},{default:n(()=>[o("span",Z,w(e.TITLE.length>10?e.TITLE.substring(0,15)+"...":e.TITLE),1),o("span",null,w(y(e.DATE).startTime),1),j]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),K])])]),_:1}),a(J,{InfoSwitch:r.value,InfoText:f.value,closeInfo:S,"onUpdate:InfoSwitch":s[0]||(s[0]=e=>r.value=e)},null,8,["InfoSwitch","InfoText"])],64))}},pe=Q(ee,[["__scopeId","data-v-9a1a9353"]]);export{pe as default};
